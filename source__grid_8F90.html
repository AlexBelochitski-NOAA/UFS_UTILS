<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UFS_UTILS: source_grid.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">UFS_UTILS
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('source__grid_8F90.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">source_grid.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="source__grid_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a702829ab745210e1bba937c613e5baf6"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="source__grid_8F90.html#a702829ab745210e1bba937c613e5baf6">source_grid::define_source_grid</a> (localpet, npets, input_file)</td></tr>
<tr class="memdesc:a702829ab745210e1bba937c613e5baf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">define source grid  <a href="source__grid_8F90.html#a702829ab745210e1bba937c613e5baf6">More...</a><br /></td></tr>
<tr class="separator:a702829ab745210e1bba937c613e5baf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a287cc73053e3f4782b495ff1a61c8ea2"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="source__grid_8F90.html#a287cc73053e3f4782b495ff1a61c8ea2">source_grid::source_grid_cleanup</a></td></tr>
<tr class="memdesc:a287cc73053e3f4782b495ff1a61c8ea2"><td class="mdescLeft">&#160;</td><td class="mdescRight">source grid cleanup  <a href="source__grid_8F90.html#a287cc73053e3f4782b495ff1a61c8ea2">More...</a><br /></td></tr>
<tr class="separator:a287cc73053e3f4782b495ff1a61c8ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aff543ec0172d14deceb73b0b02117971"><td class="memItemLeft" align="right" valign="top"><a id="aff543ec0172d14deceb73b0b02117971"></a>
integer, dimension(:), allocatable, public&#160;</td><td class="memItemRight" valign="bottom"><b>source_grid::day_of_rec</b></td></tr>
<tr class="separator:aff543ec0172d14deceb73b0b02117971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae12d6f7e531352200ed3027956855dd"><td class="memItemLeft" align="right" valign="top"><a id="aae12d6f7e531352200ed3027956855dd"></a>
character(len=50), dimension(:), allocatable, public&#160;</td><td class="memItemRight" valign="bottom"><b>source_grid::field_names</b></td></tr>
<tr class="separator:aae12d6f7e531352200ed3027956855dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe193723dd30b5df8700cd9807d54e64"><td class="memItemLeft" align="right" valign="top"><a id="abe193723dd30b5df8700cd9807d54e64"></a>
type(esmf_grid), public&#160;</td><td class="memItemRight" valign="bottom"><b>source_grid::grid_src</b></td></tr>
<tr class="separator:abe193723dd30b5df8700cd9807d54e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3b923bcfe67b81a2ed3883a8c28e2f5"><td class="memItemLeft" align="right" valign="top"><a id="af3b923bcfe67b81a2ed3883a8c28e2f5"></a>
integer, public&#160;</td><td class="memItemRight" valign="bottom"><b>source_grid::i_src</b></td></tr>
<tr class="separator:af3b923bcfe67b81a2ed3883a8c28e2f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86982abf8a4e8160f2961edc9ff4665"><td class="memItemLeft" align="right" valign="top"><a id="ad86982abf8a4e8160f2961edc9ff4665"></a>
integer, public&#160;</td><td class="memItemRight" valign="bottom"><b>source_grid::j_src</b></td></tr>
<tr class="separator:ad86982abf8a4e8160f2961edc9ff4665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae03297a0d28e5dd7341d8ac146074e2d"><td class="memItemLeft" align="right" valign="top"><a id="ae03297a0d28e5dd7341d8ac146074e2d"></a>
integer, public&#160;</td><td class="memItemRight" valign="bottom"><b>source_grid::num_fields</b></td></tr>
<tr class="separator:ae03297a0d28e5dd7341d8ac146074e2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65dcbf2c564983d0dc69dff4343355fd"><td class="memItemLeft" align="right" valign="top"><a id="a65dcbf2c564983d0dc69dff4343355fd"></a>
integer, public&#160;</td><td class="memItemRight" valign="bottom"><b>source_grid::num_records</b></td></tr>
<tr class="separator:a65dcbf2c564983d0dc69dff4343355fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a3ec53c2c7c4f94c7cb0272739c580"><td class="memItemLeft" align="right" valign="top"><a id="a50a3ec53c2c7c4f94c7cb0272739c580"></a>
integer, public&#160;</td><td class="memItemRight" valign="bottom"><b>source_grid::num_time_recs</b></td></tr>
<tr class="separator:a50a3ec53c2c7c4f94c7cb0272739c580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04135c2d1c60864436fe533121753477"><td class="memItemLeft" align="right" valign="top"><a id="a04135c2d1c60864436fe533121753477"></a>
character(len=75), public&#160;</td><td class="memItemRight" valign="bottom"><b>source_grid::source</b></td></tr>
<tr class="separator:a04135c2d1c60864436fe533121753477"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>gayno </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2018</dd></dl>
<p>Read grid specs, date information and land/sea mask for the source data that will be interpolated to the model grid. Also, sets up the ESMF grid object for the source grid. Source grid is assumed to be global lat/lon.</p>
<h2><a class="anchor" id="autotoc_md15"></a>
Public Subroutines:</h2>
<ul>
<li><a class="el" href="source__grid_8F90.html#a702829ab745210e1bba937c613e5baf6" title="define source grid">define_source_grid()</a> Defines esmf grid object for source grid. Retrieves date and field information from source file.</li>
<li><a class="el" href="source__grid_8F90.html#a287cc73053e3f4782b495ff1a61c8ea2" title="source grid cleanup">source_grid_cleanup()</a> Free up memory used in this module.</li>
</ul>
<h2><a class="anchor" id="autotoc_md16"></a>
Public variables:</h2>
<ul>
<li>day_of_rec Day of each time record with respect to Jan 1.</li>
<li>field_names Names of fields to be processed.</li>
<li>grid_src ESMF grid object for the source grid.</li>
<li>i_src i/j dimensions of the source grid.</li>
<li>j_src i/j dimensions of the source grid.</li>
<li>num_fields Number of fields in the file. Some files have more than one (ex: the 4-component albedo).</li>
<li>num_records Number of fields times time records.</li>
<li>num_time_recs Number of time records.</li>
<li>source Original source of the data. </li>
</ul>

<p class="definition">Definition in file <a class="el" href="source__grid_8F90_source.html">source_grid.F90</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a702829ab745210e1bba937c613e5baf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a702829ab745210e1bba937c613e5baf6">&#9670;&nbsp;</a></span>define_source_grid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public source_grid::define_source_grid </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>localpet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>npets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>input_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>define source grid </p>
<dl class="section author"><dt>Author</dt><dd>gayno </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2018</dd></dl>
<p>Read date information from input source data file. Create esmf grid object for the source grid.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">localpet</td><td>mpi task number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">npets</td><td>total number mpi tasks </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input_file</td><td>file containing the source grid data. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="source__grid_8F90_source.html#l00067">67</a> of file <a class="el" href="source__grid_8F90_source.html">source_grid.F90</a>.</p>

</div>
</div>
<a id="a287cc73053e3f4782b495ff1a61c8ea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a287cc73053e3f4782b495ff1a61c8ea2">&#9670;&nbsp;</a></span>source_grid_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public source_grid::source_grid_cleanup</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>source grid cleanup </p>
<dl class="section author"><dt>Author</dt><dd>gayno </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2018</dd></dl>
<p>Free up memory associated with this module. </p>

<p class="definition">Definition at line <a class="el" href="source__grid_8F90_source.html#l00400">400</a> of file <a class="el" href="source__grid_8F90_source.html">source_grid.F90</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d8b772108138bf796aaa3f7fe4e09294.html">sorc</a></li><li class="navelem"><a class="el" href="dir_fb798a7feaa65c5ad0c9ba7a62162d13.html">sfc_climo_gen.fd</a></li><li class="navelem"><a class="el" href="source__grid_8F90.html">source_grid.F90</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
